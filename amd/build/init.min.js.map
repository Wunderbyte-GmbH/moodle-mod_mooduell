{"version":3,"sources":["../src/init.js"],"names":["define","$","ajax","init","getUrlParameter","sParam","sPageURL","window","location","search","substring","getAdressParameter","params","split","length","sURLVariables","sParameterName","i","decodeURIComponent","loadQuestions","id","removeClass","addClass","call","methodname","args","done","res","tablebody","forEach","item","image","imageurl","imagetext","strlength","questiontext","warnings","message","answers","style","fraction","answertext","questionid","courseid","questiontype","category","status","html","fail","loadOpengames","callLoadOpenGames","loadFinishedgames","callLoadFinishedGames","loadHighScores","callLoadHighScores","pageid","tsort","thide","tshow","tdir","treset","domNodes","parseHTML","content","replaceDownloadLink","replaceResetTableLink","replacePaginationLinks","replaceSortColumnLinks","functionToCall","arrayOfPageItems","find","each","element","url","attr","pageNumber","text","children","click","arrayOfItems","sortid","data","sortorder","parseInt","classofelement","indexOf","action","prop","quizid","append","on","e","tabname","target","toString","gameid"],"mappings":"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","sourcesContent":["\n\ndefine(['jquery', 'core/ajax', 'core/notification'], function($, ajax) {\n\n    return {\n        init: function() {\n            var getUrlParameter = function getUrlParameter(sParam) {\n                var sPageURL = window.location.search.substring(1);\n                 return getAdressParameter(sParam, sPageURL);\n            };\n            var getAdressParameter = function getAdressParameter(sParam, sPageURL) {\n                var params = sPageURL.split('?');\n                sPageURL = params.length > 1 ? params[1] : params[0];\n                var sURLVariables = sPageURL.split('&'),\n                    sParameterName,\n                    i;\n                for (i = 0; i < sURLVariables.length; i++) {\n                    sParameterName = sURLVariables[i].split('=');\n                    if (sParameterName[0] === sParam) {\n                        return typeof sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);\n                    }\n                }\n                return false;\n            };\n\n            /**\n             * Load questions function.\n             */\n            function loadQuestions() {\n                var id = getUrlParameter('id');\n\n                $('#spinner div').removeClass('hidden');\n                $('#questionstable').addClass('hidden');\n\n                $('#spinner div').removeClass('hidden');\n                ajax.call([{\n                    methodname: \"mod_mooduell_load_questions_data\",\n                    args: {\n                        'quizid': id\n                    },\n                    done: function(res) {\n                        // $('#continue').attr(\"href\", link);\n                        var tablebody = '';\n\n                        res.forEach(item => {\n                            var image = ' ';\n                            if (item.imageurl && item.imageurl.length > 0) {\n                                image = '<a href=\"' + item.imageurl +\n                                    '\"><img src=\"' + item.imageurl + '\" alt=\"' +\n                                    item.imagetext + '\" width=\"100px\"></img></a>';\n                            }\n                            var strlength = item.length;\n                            if (!strlength || strlength.length == 0) {\n                                strlength = item.questiontext.length;\n                            }\n\n                            var warnings = '<ul>';\n                            item.warnings.forEach(item => {\n                                warnings += '<li><span style=\"color:red;\">' + item.message + '</span></li>';\n                            });\n                            warnings += '</ul>';\n\n                            var answers = '<ul>';\n                            item.answers.forEach(item => {\n\n                                var style = item.fraction > 0 ? ' style=\"color: green;\"' : '';\n\n                                answers += '<li><span' + style + '>' + item.answertext + '</span></li>';\n                            });\n                            answers += '</ul>';\n\n                            tablebody += '<tr>' +\n                                '<td><a href=\"../../question/question.php?id='\n                                    + item.questionid\n                                    + '&courseid=' + item.courseid\n                                    + 'returnto=url&returnurl=%2Fmod%2Fmooduell%2Fview.php'\n                                    + '%3Fid%3D' + id + '%23questions\">' +\n                               item.questionid + '</a></td>' +\n                                '<td>' + image + '</td>' +\n                                '<td class=\"text-left\">' + item.questiontext + answers + '</td>' +\n                                '<td class=\"text-right\">' + item.questiontype + '</td>' +\n                                '<td class=\"text-right\">' + strlength + '</td>' +\n                                '<td class=\"text-right\">' + item.category + '</td>' +\n                                '<td class=\"text-right\">' + warnings + '</td>' +\n                                '<td class=\"text-right\">' + item.status + '</td>' +\n                                '</tr>';\n                        });\n                        $('#questionstable tbody').html(tablebody);\n                        $('#spinner div').addClass('hidden');\n                        $('#questionstable').removeClass('hidden');\n                    },\n                    fail: function() {\n                        $('#spinner div').addClass('hidden');\n                        $('#questionstable').removeClass('hidden');\n                    }\n                }]);\n            }\n\n            /**\n             * Function to load open games.\n             */\n            function loadOpengames() {\n                var id = getUrlParameter('id');\n                callLoadOpenGames(id);\n            }\n\n            /**\n             * Function to load finished games.\n             */\n            function loadFinishedgames() {\n                var id = getUrlParameter('id');\n                callLoadFinishedGames(id);\n            }\n\n            /**\n             * Function to load highscores.\n             */\n            function loadHighScores() {\n                var id = getUrlParameter('id');\n                callLoadHighScores(id);\n            }\n\n            /**\n             * This function is called by the loadOpenGames function.\n             *\n             * @param {number} id\n             * @param {string} pageid\n             * @param {string} tsort\n             * @param {string} thide\n             * @param {string} tshow\n             * @param {number} tdir\n             * @param {number} treset\n             */\n            function callLoadOpenGames(id,\n                                       pageid = null,\n                                       tsort = null,\n                                       thide = null,\n                                       tshow = null,\n                                       tdir = null,\n                                       treset = null) {\n                $('#spinner div').removeClass('hidden');\n                $('#opengamestable').addClass('hidden');\n                $('#spinner div').removeClass('hidden');\n\n                ajax.call([{\n                    methodname: \"mod_mooduell_load_opengames_data\",\n                    args: {\n                        'quizid': id,\n                        'pageid': pageid,\n                        'tsort': tsort,\n                        'thide': thide,\n                        'tshow': tshow,\n                        'tdir': tdir,\n                        'treset': treset\n                    },\n                    done: function(res) {\n\n                        var domNodes = $($.parseHTML(res.content));\n\n                        if (domNodes.length > 2) {\n                            replaceDownloadLink(id, domNodes, 'opengames');\n                            replaceResetTableLink(id, domNodes, callLoadOpenGames);\n                            replacePaginationLinks(id, domNodes, callLoadOpenGames);\n                            replaceSortColumnLinks(id, domNodes, callLoadOpenGames);\n                        }\n\n                        $('#spinner div').addClass('hidden');\n                        $(\"#opengamestable\").html(domNodes);\n                        $('#opengamestable').removeClass('hidden');\n                    },\n                    fail: function() {\n                        // Debug: alert('fail');\n                        $('#spinner div').addClass('hidden');\n                        $('#opengamestable').removeClass('hidden');\n                    }\n                }]);\n            }\n\n            /**\n             * This function is called by the loadFinishedGames function.\n             * @param {number} id\n             * @param {string} pageid\n             * @param {string} tsort\n             * @param {string} thide\n             * @param {string} tshow\n             * @param {number} tdir\n             * @param {number} treset\n             */\n            function callLoadFinishedGames(id,\n                                           pageid = null,\n                                           tsort = null,\n                                           thide = null,\n                                           tshow = null,\n                                           tdir = null,\n                                           treset = null) {\n                $('#spinner div').removeClass('hidden');\n                $('#finishedgamestable').addClass('hidden');\n                $('#spinner div').removeClass('hidden');\n\n                ajax.call([{\n                    methodname: \"mod_mooduell_load_finishedgames_data\",\n                    args: {\n                        'quizid': id,\n                        'pageid': pageid,\n                        'tsort': tsort,\n                        'thide': thide,\n                        'tshow': tshow,\n                        'tdir': tdir,\n                        'treset': treset\n                    },\n                    done: function(res) {\n\n                        var domNodes = $($.parseHTML(res.content));\n\n                        if (domNodes.length > 2) {\n                            replaceDownloadLink(id, domNodes, 'finishedgames');\n                            replaceResetTableLink(id, domNodes, callLoadFinishedGames);\n                            replacePaginationLinks(id, domNodes, callLoadFinishedGames);\n                            replaceSortColumnLinks(id, domNodes, callLoadFinishedGames);\n                        }\n\n                        $('#spinner div').addClass('hidden');\n                        $(\"#finishedgamestable\").html(domNodes);\n                        $('#finishedgamestable').removeClass('hidden');\n                    },\n                    fail: function() {\n                        // Debug: alert('fail');\n                        $('#spinner div').addClass('hidden');\n                        $('#finishedgamestable').removeClass('hidden');\n                    }\n                }]);\n            }\n\n            /**\n             * This function is called by the loadHighScores function.\n             * @param {number} id\n             * @param {string} pageid\n             * @param {string} tsort\n             * @param {string} thide\n             * @param {string} tshow\n             * @param {number} tdir\n             * @param {number} treset\n             */\n            function callLoadHighScores(id, pageid = null, tsort = null, thide = null, tshow = null, tdir = null, treset = null) {\n                $('#spinner div').removeClass('hidden');\n                $('#highscorestable').addClass('hidden');\n                $('#spinner div').removeClass('hidden');\n\n                ajax.call([{\n                    methodname: \"mod_mooduell_load_highscore_data\",\n                    args: {\n                        'quizid': id,\n                        'pageid': pageid,\n                        'tsort': tsort,\n                        'thide': thide,\n                        'tshow': tshow,\n                        'tdir': tdir,\n                        'treset': treset\n                    },\n                    done: function(res) {\n\n                        var domNodes = $($.parseHTML(res.content));\n\n                        if (domNodes.length > 2) {\n                            replaceDownloadLink(id, domNodes, 'highscores');\n                            replaceResetTableLink(id, domNodes, callLoadHighScores);\n                            replacePaginationLinks(id, domNodes, callLoadHighScores);\n                            replaceSortColumnLinks(id, domNodes, callLoadHighScores);\n                        }\n\n                        $('#spinner div').addClass('hidden');\n                        $(\"#highscorestable\").html(domNodes);\n                        $('#highscorestable').removeClass('hidden');\n                    },\n                    fail: function() {\n                        // Debug: alert('fail');\n                        $('#spinner div').addClass('hidden');\n                        $('#highscorestable').removeClass('hidden');\n                    }\n                }]);\n            }\n\n            /**\n             * To provide for all themes, we get the right link from the data attribute.\n             *\n             * @param {number} id\n             * @param {Array} domNodes\n             * @param {Object} functionToCall\n             */\n            function replacePaginationLinks(id, domNodes, functionToCall) {\n                var arrayOfPageItems = domNodes.find(\".page-item\");\n                $.each(arrayOfPageItems, function() {\n                    var element = $(this).find('a');\n                    var url = element.attr(\"href\");\n                    var pageNumber;\n                    if (url != undefined) {\n\n                        pageNumber = getAdressParameter('page', url);\n                    } else {\n                        pageNumber = +element.text();\n                        --pageNumber;\n                    }\n                    element.attr('href', '#');\n                    if (pageNumber) {\n                        $(this).children('a').click(function() {\n                            functionToCall(id, pageNumber);\n                        });\n                    }\n                });\n            }\n\n            /**\n             * Function to replace the sort column links.\n             *\n             * @param {string} id\n             * @param {Array} domNodes\n             * @param {Object} functionToCall\n             */\n            function replaceSortColumnLinks(id, domNodes, functionToCall) {\n                var arrayOfItems = domNodes.find(\"th.header a\");\n                $.each(arrayOfItems, function() {\n                    // First we disable all the links\n                    // $(this).removeAttr('href');\n                    var sortid = $(this).data('sortby');\n                    var sortorder = $(this).data('sortorder');\n                    var thide = $(this).data('action') == 'hide' ? $(this).data('column') : null;\n                    var tshow = $(this).data('action') == 'show' ? $(this).data('column') : null;\n\n                    // Make sure we only return int.\n                    sortorder = parseInt(sortorder);\n\n                    $(this).attr('href', '#');\n                    $(this).click(function() {\n                        functionToCall(id, null, sortid, thide, tshow, sortorder);\n                    });\n                });\n            }\n\n            /**\n             * Function to replace the reset table link.\n             *\n             * @param {string} id\n             * @param {Array} domNodes\n             * @param {Object} functionToCall\n             */\n            function replaceResetTableLink(id, domNodes, functionToCall) {\n                var arrayOfItems = domNodes.find(\"div.resettable\");\n\n                // Strangely it wasn't possible to get the first div by class, we have to run all the nodes\n                // So we create a fallback\n                if (arrayOfItems.length == 0) {\n                    arrayOfItems = domNodes;\n                }\n\n                $.each(domNodes, function() {\n                    var classofelement = $(this).attr('class');\n                    if (classofelement.indexOf('resettable') >= 0) {\n                        $(this).children('a').attr('href', '#');\n                        $(this).children('a').click(function() {\n                            functionToCall(id, null, null, null, null, null, 1);\n                        });\n                    }\n                });\n            }\n\n            /**\n             * Function to replace the download link.\n             *\n             * @param {string} id\n             * @param {Array} domNodes\n             * @param {string} action\n             */\n            function replaceDownloadLink(id, domNodes, action) {\n                var arrayOfItems = domNodes.find(\"form\");\n\n                // Strangely it wasn't possible to get the first div by class, we have to run all the nodes\n                // So we create a fallback\n                if (arrayOfItems.length == 0) {\n                    arrayOfItems = domNodes;\n                }\n                $.each(arrayOfItems, function() {\n                    if ($(this).prop(\"tagName\") == 'FORM') {\n                        var quizid = getUrlParameter('id');\n                        $(this).append('<input type=\"hidden\" name=\"quizid\" value=\"' + quizid + '\">');\n                        $(this).append('<input type=\"hidden\" name=\"action\" value=\"' + action + '\">');\n                    }\n                });\n            }\n\n            $('a[data-toggle=\"tab\"]').on('shown.bs.tab', function(e) {\n\n                var tabname = e.target.toString();\n                tabname = tabname.split('#');\n                if (tabname.length == 0) {\n                    return;\n                }\n                switch (tabname[1]) {\n                    case 'highscores':\n                        loadHighScores();\n                        break;\n                    case 'questions':\n                        loadQuestions();\n                        break;\n                    case 'opengames':\n                        loadOpengames();\n                        break;\n                    case 'finishedgames':\n                        loadFinishedgames();\n                        break;\n                }\n            });\n\n            // If we have a gameid param, we can unhide the table\n            var gameid = getUrlParameter('gameid');\n            if (gameid) {\n                $('#spinner div').addClass('hidden');\n                $('#questionstable').removeClass('hidden');\n            }\n        },\n    };\n});\n"],"file":"init.min.js"}