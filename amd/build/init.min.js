function _typeof(a){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(a){return typeof a}}else{_typeof=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}define ("mod_mooduell/init",["jquery","core/ajax","core/notification"],function(a,b){return{init:function init(){var n=function(a){var b=window.location.search.substring(1);return o(a,b)},o=function(a,b){var c=b.split("?");b=1<c.length?c[1]:c[0];var d=b.split("&"),e,f;for(f=0;f<d.length;f++){e=d[f].split("=");if(e[0]===a){return _typeof(e[1])===void 0?!0:decodeURIComponent(e[1])}}return!1};function c(){var c=n("id");a("#spinner div").removeClass("hidden");a("#questionstable").addClass("hidden");a("#spinner div").removeClass("hidden");b.call([{methodname:"mod_mooduell_load_questions_data",args:{quizid:c},done:function done(b){var c="";b.forEach(function(a){var b=" ";if(a.imageurl&&0<a.imageurl.length){b="<a href=\""+a.imageurl+"\"><img src=\""+a.imageurl+"\" alt=\""+a.imagetext+"\" width=\"100px\"></img></a>"}var d=a.length;if(!d||0==d.length){d=a.questiontext.length}var e="<ul>";a.warnings.forEach(function(a){e+="<li><span style=\"color:red;\">"+a.message+"</span></li>"});e+="</ul>";var f="<ul>";a.answers.forEach(function(a){var b=0<a.fraction?" style=\"color: green;\"":"";f+="<li><span"+b+">"+a.answertext+"</span></li>"});f+="</ul>";c+="<tr><td><a href=\"../../question/question.php?returnurl=/question/edit.php?courseid="+a.courseid+"&courseid="+a.courseid+"&id="+a.questionid+"\">"+a.questionid+"</a></td><td>"+b+"</td><td class=\"text-left\">"+a.questiontext+f+"</td><td class=\"text-right\">"+a.questiontype+"</td><td class=\"text-right\">"+d+"</td><td class=\"text-right\">"+a.category+"</td><td class=\"text-right\">"+e+"</td><td class=\"text-right\">"+a.status+"</td></tr>"});a("#questionstable tbody").html(c);a("#spinner div").addClass("hidden");a("#questionstable").removeClass("hidden")},fail:function fail(){a("#spinner div").addClass("hidden");a("#questionstable").removeClass("hidden")}}])}function d(){var a=n("id");g(a)}function e(){var a=n("id");h(a)}function f(){var a=n("id");i(a)}function g(c){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null,h=4<arguments.length&&arguments[4]!==void 0?arguments[4]:null,i=5<arguments.length&&arguments[5]!==void 0?arguments[5]:null,n=6<arguments.length&&arguments[6]!==void 0?arguments[6]:null;a("#spinner div").removeClass("hidden");a("#opengamestable").addClass("hidden");a("#spinner div").removeClass("hidden");b.call([{methodname:"mod_mooduell_load_opengames_data",args:{quizid:c,pageid:d,tsort:e,thide:f,tshow:h,tdir:i,treset:n},done:function done(b){var d=a(a.parseHTML(b.content));if(2<d.length){m(c,d,"opengames");l(c,d,g);j(c,d,g);k(c,d,g)}a("#spinner div").addClass("hidden");a("#opengamestable").html(d);a("#opengamestable").removeClass("hidden")},fail:function fail(){a("#spinner div").addClass("hidden");a("#opengamestable").removeClass("hidden")}}])}function h(c){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null,g=4<arguments.length&&arguments[4]!==void 0?arguments[4]:null,i=5<arguments.length&&arguments[5]!==void 0?arguments[5]:null,n=6<arguments.length&&arguments[6]!==void 0?arguments[6]:null;a("#spinner div").removeClass("hidden");a("#finishedgamestable").addClass("hidden");a("#spinner div").removeClass("hidden");b.call([{methodname:"mod_mooduell_load_finishedgames_data",args:{quizid:c,pageid:d,tsort:e,thide:f,tshow:g,tdir:i,treset:n},done:function done(b){var d=a(a.parseHTML(b.content));if(2<d.length){m(c,d,"finishedgames");l(c,d,h);j(c,d,h);k(c,d,h)}a("#spinner div").addClass("hidden");a("#finishedgamestable").html(d);a("#finishedgamestable").removeClass("hidden")},fail:function fail(){a("#spinner div").addClass("hidden");a("#finishedgamestable").removeClass("hidden")}}])}function i(c){var d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:null,e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null,f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null,g=4<arguments.length&&arguments[4]!==void 0?arguments[4]:null,h=5<arguments.length&&arguments[5]!==void 0?arguments[5]:null,n=6<arguments.length&&arguments[6]!==void 0?arguments[6]:null;a("#spinner div").removeClass("hidden");a("#highscorestable").addClass("hidden");a("#spinner div").removeClass("hidden");b.call([{methodname:"mod_mooduell_load_highscore_data",args:{quizid:c,pageid:d,tsort:e,thide:f,tshow:g,tdir:h,treset:n},done:function done(b){var d=a(a.parseHTML(b.content));if(2<d.length){m(c,d,"highscores");l(c,d,i);j(c,d,i);k(c,d,i)}a("#spinner div").addClass("hidden");a("#highscorestable").html(d);a("#highscorestable").removeClass("hidden")},fail:function fail(){a("#spinner div").addClass("hidden");a("#highscorestable").removeClass("hidden")}}])}function j(b,c,d){var e=c.find(".page-item");a.each(e,function(){var c=a(this).find("a"),e=c.attr("href"),f;if(e!=void 0){f=o("page",e)}else{f=+c.text();--f}c.attr("href","#");if(f){a(this).children("a").click(function(){d(b,f)})}})}function k(b,c,d){var e=c.find("th.header a");a.each(e,function(){var c=a(this).data("sortby"),e=a(this).data("sortorder"),f="hide"==a(this).data("action")?a(this).data("column"):null,g="show"==a(this).data("action")?a(this).data("column"):null;e=parseInt(e);a(this).attr("href","#");a(this).click(function(){d(b,null,c,f,g,e)})})}function l(b,c,d){var e=c.find("div.resettable");if(0==e.length){e=c}a.each(c,function(){var c=a(this).attr("class");if(0<=c.indexOf("resettable")){a(this).children("a").attr("href","#");a(this).children("a").click(function(){d(b,null,null,null,null,null,1)})}})}function m(b,c,d){var e=c.find("form");if(0==e.length){e=c}a.each(e,function(){if("FORM"==a(this).prop("tagName")){var b=n("id");a(this).append("<input type=\"hidden\" name=\"quizid\" value=\""+b+"\">");a(this).append("<input type=\"hidden\" name=\"action\" value=\""+d+"\">")}})}a("a[data-toggle=\"tab\"]").on("shown.bs.tab",function(a){var b=a.target.toString();b=b.split("#");if(0==b.length){return}switch(b[1]){case"highscores":f();break;case"questions":c();break;case"opengames":d();break;case"finishedgames":e();break;}});var p=n("gameid");if(p){a("#spinner div").addClass("hidden");a("#questionstable").removeClass("hidden")}}}});
//# sourceMappingURL=init.min.js.map
