function _typeof(a){"@babel/helpers - typeof";if("function"==typeof Symbol&&"symbol"==typeof Symbol.iterator){_typeof=function(a){return typeof a}}else{_typeof=function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a}}return _typeof(a)}define ("mod_mooduell/init",["jquery","core/ajax","core/notification"],function(a,b,c){return{init:function init(){var h=function(a){var b=window.location.search.substring(1),c=b.split("&"),d,e;for(e=0;e<c.length;e++){d=c[e].split("=");if(d[0]===a){return _typeof(d[1])===void 0?!0:decodeURIComponent(d[1])}}return!1};function d(){var d=h("id");a("#hsspinner div").removeClass("hidden");a("#highscorestable").addClass("hidden");b.call([{methodname:"mod_mooduell_load_highscore_data",args:{quizid:d},done:function done(b){var c="";b.forEach(function(a){c+="<tr><td>"+a.username+"</td><td class=\"text-right\">"+a.gamesplayed+"</td><td class=\"text-right\">"+a.gameswon+"</td><td class=\"text-right\">"+a.gameslost+"</td><td class=\"text-right\">"+a.score+"</td><td class=\"text-right\">"+a.correct+"</td><td class=\"text-right\">"+a.correctpercentage+"%</td></tr>"});a("#highscorestable").html(c);a("#hsspinner div").addClass("hidden");a("#highscorestable").removeClass("hidden")},fail:c.exception}])}function e(){var d=h("id");a("#qspinner div").removeClass("hidden");a("#questionstable").addClass("hidden");b.call([{methodname:"mod_mooduell_load_questions_data",args:{quizid:d},done:function done(b){var c="";b.forEach(function(a){var b="no image";if(a.imageurl&&0<a.imageurl.length){b="<a href=\""+a.imageurl+"\"><img src=\""+a.imageurl+"\" alt=\""+a.imagetext+"\" width=\"100px\"></img></a>"}var d=a.length;if(!d||0==d.length){d=a.questiontext.length}var e="<ul>";a.warnings.forEach(function(a){e+="<li><span style=\"color:red;\">"+a.message+"</span></li>"});e+="</ul>";c+="<tr><td><a href=\"../../question/question.php?returnurl=/question/edit.php?courseid="+a.courseid+"&courseid="+a.courseid+"&id="+a.questionid+"\">"+a.questionid+"</a></td><td>"+b+"</td><td class=\"text-left\">"+a.questiontext+"</td><td class=\"text-right\">"+a.questiontype+"</td><td class=\"text-right\">"+d+"</td><td class=\"text-right\">"+a.category+"</td><td class=\"text-right\">"+e+"</td><td class=\"text-right\">"+a.status+"</td></tr>"});a("#questionstable tbody").html(c);a("#qspinner div").addClass("hidden");a("#questionstable").removeClass("hidden")},fail:c.exception}])}function f(){var d=h("id");a("#ogspinner div").removeClass("hidden");a("#opengamestable").addClass("hidden");b.call([{methodname:"mod_mooduell_load_opengames_data",args:{quizid:d},done:function done(b){var c="";b.forEach(function(a){c+="<tr><td>"+a.playera+"</td><td>"+a.playeraresults+"</td><td>"+a.playerb+"</td><td>"+a.playerbresults+"</td></tr>"});a("#opengamestable tbody").html(c);a("#ogspinner div").addClass("hidden");a("#opengamestable").removeClass("hidden")},fail:c.exception}])}function g(){var d=h("id");a("#fgspinner div").removeClass("hidden");a("#finishedgamestable").addClass("hidden");b.call([{methodname:"mod_mooduell_load_finishedgames_data",args:{quizid:d},done:function done(b){var c="";b.forEach(function(a){c+="<tr><td>"+a.playera+"</td><td>"+a.playeraresults+"</td><td>"+a.playerb+"</td><td>"+a.playerbresults+"</td></tr>"});a("#finishedgamestable tbody").html(c);a("#fgspinner div").addClass("hidden");a("#finishedgamestable").removeClass("hidden")},fail:c.exception}])}a("a[data-toggle=\"tab\"]").on("shown.bs.tab",function(a){var b=a.target.toString();b=b.split("#");if(0==b.length){return}switch(b[1]){case"highscores":d();break;case"questions":e();break;case"opengames":f();break;case"finishedgames":g();break;}})}}});
//# sourceMappingURL=init.min.js.map
